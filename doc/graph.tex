\documentclass[a4paper,8pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[brazil]{babel}
\usepackage{url}
%\usepackage[font=small],{caption}

% The following is needed in order to make the code compatible
% with both latex/dvips and pdflatex.
\usepackage{ifpdf}
\ifpdf
	\usepackage[pdftex]{graphicx}
	\DeclareGraphicsRule{*}{mps}{*}{}
\else
	\usepackage[dvips]{graphicx}
\fi

\newcommand{\smartmakeincludegraphics}[2][]{
\ifpdf
\includegraphics[#1]{#2.pdf}
\else
\includegraphics[#1]{#2.eps}
\fi
}


\title{T2 modular}
\author{Marcelo Politzer, Raphael Bertoche, Gabriel Arrais}

\begin{document}

\maketitle

\section{Requisitos Funcionais}


\begin{enumerate}
\item Criar um usuário com uma UserID de até 15 caracteres, composta por
		[a-z;0-9;.-\_@]. (é acessado no menu de login.)

\item Logar com usuário já existente, que significa modificar o usuário
		corrente (nao é possível logar com usuário inexistente, é acessado no menu
		de login.)

\subsection{Requisitos que definem comandos}
\item Excluir perfil
		\newline\texttt{delme}

\item Editar perfil e interesses (Amizade, Trabalho, relacionamento aberto...)
		\newline\texttt{editme}

\item Procurar perfis de outros usuários filtrando por: interesse, amizade,
		idade, ID, nome
		\newline\texttt{search [-f] [-u userid] [-i interest] [-a minage-maxage]}
		\newline-f - mostra apenas amigos
\item Extinção do módulo Mensagem

\item Adicionar novo contato (incluir usuário nos contatos)
		\newline\texttt{addfriend userid}

\item Retirar contato (excluir usuário dos contatos)
		\newline\texttt{unfriend userid}

\item Enviar mensagens para mais de um destinatário dentre os usuários já
		adicionados.
		\newline\texttt{write [destinatario1] [destinatario2] ...}

\item Arquivar mais de uma mensagem na caixa de mensagens de cada usuário
		\newline\texttt{msglist []}
		\newline\texttt{msgread number}
		\newline\texttt{msgdel number}

\end{enumerate}

\section{Requisitos Não Funcionais}

\begin{enumerate}

		\item Portabilidade

		O projeto deve suportar compilação tanto utilizando os Gnu-Make e GCC quanto
		utilizando o Visual Studio e o GMake;

		\item Performance

		Nenhum comando pode demorar mais que 10ms por usuário registrado;

		\item Segurança

		As funções que lêem da entrada padrão devem estar protegidas de
		overflow de qualquer espécie;

		\item Privacidade

		Deve ser impossível de se ler mensagens alheias e de conhecer listas de
		amigos.

\end{enumerate}

\section{Diagramas}
\subsection{Arquitetura}

\includegraphics{arch.1}
\pagebreak

\subsection{Modelo Físico}

\smartmakeincludegraphics[width=\linewidth]{modelofisico}
\pagebreak

\subsection{Exemplo Físico}

Dois usuários ligados, um usuário sem amigos, todos possuem mensagem

\smartmakeincludegraphics[width=\linewidth]{exemplofisico}
\pagebreak

\section{Assertivas estruturais do módulo grafo}

Chamaremos de G a struct Graph (cabeça) de uma dada instância de grafo;

\begin{enumerate}

\item \texttt{struct Graph} (cabeça)
		\begin{enumerate}
				\item $\oplus$ O valor de \texttt{G.nOfNodes} equivale ao número de
					elementos de Nodes alocados e ao número de elementos em
					list of Nodes.
				\item $\oplus$ O valor de \texttt{G.nOfLinks} equivale ao número de
					elementos de Links alocados.
				\item $\oplus$ O valor de \texttt{G.nOfLinks} é sempre par.
				\item $\oplus$ \texttt{G.nOfNodes != 0} $\Rightarrow$
					\texttt{ G.currentNode != NULL}
		\end{enumerate}

\item \texttt{struct Node} (nó)
		\begin{enumerate}
				\item Para qualquer struct node N, existe uma lista L tal
					que \newline \texttt{N.links == \&L}
				\item $\oplus$ Para qualquer struct node N pertencente à lista
					\texttt{G.nodes}, \newline \texttt{N.delData == G.delData}
		\end{enumerate}

\item \texttt{struct Link} (aresta)
		\begin{enumerate}
				\item $\oplus$ Para toda struct link L, existe uma struct link irmão
					B tal que:
				\begin{verbatim}
						&L != &B
						L->brother == &B
						B->brother == &L
						L->n1 == B->n2
						L->n2 == B->n1
						\end{verbatim}
				\item $\oplus$ Para qualquer link L, L é um elemento da lista
					\texttt{L->n2.links}
		\end{enumerate}
\end{enumerate}


\end{document}
